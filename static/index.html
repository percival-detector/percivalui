<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Percival Detector</title>

    <!-- Bootstrap -->
    <link href="js/bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">
    <link href="css/tabulator.css" rel="stylesheet">
    <link href="css/percival.css" rel="stylesheet">

  </head>
  <body style="padding-top: 30px;">
  
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
			<a class="navbar-brand" rel="home" href="" title="Percival">
	        <img style="max-width:70px; margin-top: -7px;" src="/img/percival-logo.jpg">
		    </a>
          <div class="navbar-brand">Percival Detector</div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="home"><a href="#/home-view"> <span
                        class="glyphicon glyphicon-home"></span> <strong>Home</strong><span
                        class="label"></span></a></li>

                <li class="av navbar-nav"><a href="#/detector-view"
                    class="dropdown-toggle" role="button" aria-expanded="false"> <strong>Detector</strong>
                </a></li>
                <li class="av navbar-nav"><a href="#/configuration-view"
                    class="dropdown-toggle" role="button" aria-expanded="false"> <strong>Configuration</strong>
                </a></li>
                <li class="av navbar-nav"><a href="#/status-view"
                    class="dropdown-toggle" role="button" aria-expanded="false"> <strong>Status</strong>
                </a></li>
                <li class="av navbar-nav"><a href="#/control-view"
                    class="dropdown-toggle" role="button" aria-expanded="false"> <strong>Control</strong>
                </a></li>
                <li class="av navbar-nav"><a href="#/daq-view"
                    class="dropdown-toggle" role="button" aria-expanded="false"> <strong>DAQ</strong>
                </a></li>
                <li class="av navbar-nav"><a href="#/buffer-view"
                    class="dropdown-toggle" role="button" aria-expanded="false"> <strong>Buffer</strong>
                </a></li>
                <li class="av navbar-nav"><a href="#/data-view"
                    class="dropdown-toggle" role="button" aria-expanded="false"> <strong>Data</strong>
                </a></li>
            </ul>
        </div>
      </div>
    </nav>

<!-- HOME PAGE -->
	<div class="container-fluid home-view page">
		<div class="row fluid-row">		
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Server Status</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">API Version:</div>
							<div id="api-version" class="col-xs-5 m-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Adapters Loaded:</div>
							<div id="api-adapters" class="col-xs-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Server Start Time:</div>
							<div id="server-start-time" class="col-xs-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Server Up Time:</div>
							<div id="server-up-time" class="col-xs-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Server Username:</div>
							<div id="server-username" class="col-xs-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Hardware Connection:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td>Address:</td><td align="center" id="server-hw-address" width="150px"></td></tr>
									<tr><td>Port:</td><td align="center" id="server-hw-port"></td></tr>
									<tr><td>Connected:</td><td align="center" id="server-hw-connected"></td></tr>
									<tr><td></td><td align="center"><button id="server-hw-reconnect">Reconnect</button></td></tr>
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Database Connection:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td>Address:</td><td align="center" id="server-db-address" width="150px"></td></tr>
									<tr><td>Port:</td><td align="center" id="server-db-port"></td></tr>
									<tr><td>Name:</td><td align="center" id="server-db-name"></td></tr>
									<tr><td>Connected:</td><td align="center" id="server-db-connected"></td></tr>
									<tr><td></td><td align="center"><button id="server-db-reconnect">Reconnect</button></td></tr>
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Auto-read Monitors (1 Hz):</div>
							<div class="col-xs-5 status vertical-align">
								<span id="server-ar-status"></span>
								<span><button id="server-ar-start">Start</button></span>
								<span><button id="server-ar-stop">Stop</button></span>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
		</div> <!-- row fluid-row -->	
	</div> <!--  container-fluid -->

<!-- HOME PAGE -->
	<div class="container-fluid detector-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Detector Status</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Acquisition:</div>
							<div class="col-xs-6 m-5 status vertical-align">
								<table>
									<tr><td>Acquisition Counter:</td>
                                        <td width="10px"></td>
                                        <td>Image Counter:</td>
                                        <td width="10px"></td>
                                        <td>Train Number:</td></tr>
                                    <tr>
                                        <td align="center" id="det-acq-counter" width="200px" style="border: 1px solid black;"></td>
                                        <td width="10px"></td>
									    <td align="center" id="det-image-counter" width="200px" style="border: 1px solid black;"></td>
                                        <td width="10px"></td>
									    <td align="center" id="det-train-number" width="200px" style="border: 1px solid black;"></td>
                                    </tr>
								</table>
                            </div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Status Flags [0]:</div>
							<div class="col-xs-7 status vertical-align">
								<table>
									<tr>
                                        <td align="center" id="det-lvds-enabled" width="30px"></td><td width="400px">LVDS IOs Enabled</td>
                                        <td align="center" id="det-acquiring" width="30px"></td><td width="300px">Acquiring</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-master-reset" width="30px"></td><td width="300px">Master Reset</td>
                                        <td align="center" id="det-waiting-for-trigger" width="30px"></td><td width="300px">Waiting For Trigger</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-pll-reset" width="30px"></td><td width="300px">PLL Reset</td>
                                        <td align="center" id="det-sensor-active" width="30px"></td><td width="300px">Sensor Active For Acquisition</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-dmux-cdn" width="30px"></td><td width="300px">dmuxCDN</td>
                                        <td align="center" id="det-mezz-a-phy-ok" width="30px"></td><td width="300px">Mezz A Phy OK</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-sr7din-0" width="30px"></td><td width="300px">sr7DIn[0]</td>
                                        <td align="center" id="det-mezz-a-mgt-ok" width="30px"></td><td width="300px">Mezz A Mgt OK</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-sr7din-1" width="30px"></td><td width="300px">sr7DIn[1]</td>
                                        <td align="center" id="det-mezz-a-reset" width="30px"></td><td width="300px">Mezz A Reset</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-horiz-data-in-0" width="30px"></td><td width="300px">Horiz Data In[0]</td>
                                        <td align="center" id="det-mezz-b-phy-ok" width="30px"></td><td width="300px">Mezz B Phy OK</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-horiz-data-in-1" width="30px"></td><td width="300px">Horiz Data In[1]</td>
                                        <td align="center" id="det-mezz-b-mgt-ok" width="30px"></td><td width="300px">Mezz B Mgt OK</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-enable-testpoints" width="30px"></td><td width="300px">Enable Testpoints</td>
                                        <td align="center" id="det-mezz-b-reset" width="30px"></td><td width="300px">Mezz B Reset</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-startup-mode-enabled" width="30px"></td><td width="300px">Startup Mode Enabled</td>
                                        <td align="center" id="det-marker-out-0" width="30px"></td><td width="300px">Marker Out[0]</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-global-monitoring" width="30px"></td><td width="300px">Global Monitoring Enabled</td>
                                        <td align="center" id="det-marker-out-1" width="30px"></td><td width="300px">Marker Out[1]</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-device-safety" width="30px"></td><td width="300px">Device Level Safety Controls Enabled</td>
                                        <td align="center" id="det-marker-out-2" width="30px"></td><td width="300px">Marker Out[2]</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-system-safety" width="30px"></td><td width="300px">System Level Safety Controls Enabled</td>
                                        <td align="center" id="det-marker-out-3" width="30px"></td><td width="300px">Marker Out[3]</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-exp-safety" width="30px"></td><td width="300px">Experimental Level Safety Controls Enabled</td>
                                        <td align="center" id="det-include-train" width="30px"></td><td width="300px">Include Train Number In Status Record</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-safety-actions" width="30px"></td><td width="300px">Safety Actions Enabled</td>
                                        <td align="center" id="det-plugin-reset" width="30px"></td><td width="300px">Plugin Reset</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-system-armed" width="30px"></td><td width="300px">System Armed</td>
                                        <td align="center" id="det-data-synch-error" width="30px"></td><td width="300px">Data Synch Error</td>
                                    </tr>
								</table>
                            </div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Status Flags [1]:</div>
							<div class="col-xs-7 status vertical-align">
								<table>
									<tr>
                                        <td align="center" id="det-hclock-0" width="30px"></td><td width="400px">HIGH_FREQ_ADJ_CLOCK_0_clock_enable</td>
                                        <td align="center" id="det-lclock-0" width="30px"></td><td width="300px">LOW_FREQ_ADJ_CLOCK_0_clock_enable</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-hclock-1" width="30px"></td><td width="300px">HIGH_FREQ_ADJ_CLOCK_1_clock_enable</td>
                                        <td align="center" id="det-lclock-1" width="30px"></td><td width="300px">LOW_FREQ_ADJ_CLOCK_1_clock_enable</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-hclock-2" width="30px"></td><td width="300px">HIGH_FREQ_ADJ_CLOCK_2_clock_enable</td>
                                    </tr>
									<tr>
                                        <td align="center" id="det-hclock-3" width="30px"></td><td width="300px">HIGH_FREQ_ADJ_CLOCK_3_clock_enable</td>
                                    </tr>
								</table>
								<table>
									<tr>
                                        <td align="center" id="safety-3" width="30px"></td><td width="400px">safety_driven_assert_marker_out_3_completed</td>
                                        <td align="center" id="safety-2" width="30px"></td><td width="300px">safety_driven_assert_marker_out_2_completed</td>
                                    </tr>
									<tr>
                                        <td align="center" id="safety-1" width="30px"></td><td width="300px">safety_driven_assert_marker_out_1_completed</td>
                                        <td align="center" id="safety-0" width="30px"></td><td width="300px">safety_driven_assert_marker_out_0_completed</td>
                                    </tr>
									<tr>
                                        <td align="center" id="safety-fast-standby" width="30px"></td><td width="300px">safety_driven_fast_enable_control_standby_completed</td>
                                        <td align="center" id="safety-fast-powerdown" width="30px"></td><td width="300px">safety_driven_fast_sensor_powerdown_completed</td>
                                    </tr>
									<tr>
                                        <td align="center" id="safety-exit-armed" width="30px"></td><td width="300px">safety_driven_exit_acquisition_armed_status_completed</td>
                                        <td align="center" id="safety-stop-acq" width="30px"></td><td width="300px">safety_driven_stop_acquisition_completed</td>
                                    </tr>
								</table>
                            </div>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
		</div> <!-- row fluid-row -->
	</div> <!--  container-fluid -->

	<!-- CONFIGURATION PAGE -->
	<div class="container-fluid configuration-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Configuration</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Boards:</div>
							<div id="overall-boards" class="col-xs-7 m-7 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Controls:</div>
							<div id="overall-controls" class="col-xs-7 status vertical-align">&nbsp;</div>
  					</div>						
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Monitors:</div>
							<div id="overall-monitors" class="col-xs-7 status vertical-align">&nbsp;</div>
  					</div>						
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
		</div> <!-- row fluid-row -->	
	</div> <!--  container-fluid -->

	<div class="container-fluid status-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid" id="stat-container">
						<div class="row sidebar-title">
							<table><tr><td><h3>Status</h3></td><td width="20px"></td>
								<td><small><div class="dropdown"><span class="btn-group">
									<button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
										<div id="status-group-name">Channels [ All ] </div></button>
									<button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"><span class="caret"></span>
									</button>
									<ul class="dropdown-menu" role="menu" id="status-group">
										<li role="presentation"><a role="menuitem" tabindex="-1" href="#">All</a></li>
									</ul>
									</span>
							</div></small></td><td width="20px"></td><td>
									<span><button id="refresh-monitors">Refresh Monitors</button></span>
								</td></tr></table>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
			
			
		</div> <!-- row fluid-row -->	
	</div> <!--  container-fluid -->

	<div class="container-fluid control-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Control</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Control Message Response:</div>
							<div class="col-xs-7 status vertical-align">
								<div id="ctrl-msg-response" class="panel panel-default">
									<div id="ctrl-resp-cmd" class="panel-heading">Command: </div>
									<table>
										<tr valign="top">
											<td style="padding:0 15px 0 15px;">Parameters:</td><td id="ctrl-resp-param"></td>
										</tr><tr>
											<td style="padding:0 15px 0 15px;">Execution Start Time:</td><td id="ctrl-resp-time"></td>
										</tr><tr>
											<td style="padding:0 15px 0 15px;">Response:</td><td id="ctrl-resp-success"></td>
										</tr><tr>
											<td style="padding:0 15px 0 15px;">Message:</td><td id="ctrl-resp-message"></td>
										</tr>
									</table>
									<!--<div class="panel-heading clearfix">
										<span class="panel-title pull-left">Status</span>
									</div>-->
								</div>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Download Channel Settings:</div>
							<div class="col-xs-5 status vertical-align">
								<small><div class="dropdown">
									<span><button id="channel-settings-cmd">Download Settings</button></span>
								</div></small>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Initialise Channels:</div>
							<div class="col-xs-5 status vertical-align">
								<small><div class="dropdown">
									<span><button id="server-init-cmd">Initialise Channels</button></span>
								</div></small>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">System Command:</div>
							<div class="col-xs-5 status vertical-align">
								<small><div class="dropdown">
									<select id="select-sys-cmd">
									</select>
									<span><button id="server-sys-cmd">Execute System Command</button></span>
								</div></small>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Set System Value:</div>
							<div class="col-xs-5 status vertical-align">
								<small><div class="dropdown">
									<select id="set-system-value">
									</select>
									<span><input type="text" id="server-set-system-val"></input></span>
									<span><button id="server-set-system-val-cmd">Set System Value</button></span>
								</div></small>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Set Channel Value:</div>
							<div class="col-xs-5 status vertical-align">
								<small><div class="dropdown">
									<select id="control-set-channel">
									</select>
									<span><input type="text" id="server-set-channel-val"></input></span>
									<span><button id="server-set-channel-cmd">Set Channel Value</button></span>
								</div></small>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Scan Set Points:</div>
							<div class="col-xs-5 status vertical-align">
								<small>Initial setpoint:<div class="dropdown">
									<select id="scan-set-point-start">
									</select>
								</div></small>
								<small>Final setpoint:<div class="dropdown">
									<select id="scan-set-point-end">
									</select>
								</div></small>
								<span>Number of steps:<input type="text" size="8" id="scan-sp-steps" value="10"></input></span>
								<span>Dwell time (ms):<input type="text" size="8" id="scan-sp-dwell" value="1000"></input></span><br>
								<span><button id="server-scan-set-point-cmd">Scan Setpoints</button></span>
								<span><button id="server-abort-scan-cmd" style="background-color: #f44336;">Abort Scan</button></span>
								<span><button data-toggle="modal" data-target="#sp-scan-modal">View Details</button></span>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Safety Scan:</div>
							<div class="col-xs-5 status vertical-align">
								<small>Final setpoint:<div class="dropdown">
									<select id="sscan-set-point-end">
									</select>
								</div></small>
								<span>Number of steps:<input type="text" size="8" id="sscan-sp-steps" value="10"></input></span>
								<span>Dwell time (ms):<input type="text" size="8" id="sscan-sp-dwell" value="1000"></input></span><br>
								<span><button id="server-sscan-set-point-cmd">Run Safety Scan</button></span>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Upload Configuration File:</div>
							<div class="col-xs-5 status vertical-align">
								<small>
									<input type="file" id="select-config-file" size="500">
									</input>
									<div class="dropdown">
									<select id="select-config">
										<option>system_settings</option>
										<option>chip_readout_settings</option>
										<option>clock_settings</option>
										<option>sensor_dacs</option>
										<option>sensor_configuration</option>
										<option>sensor_calibration</option>
										<option>sensor_debug</option>
										<option>setpoints</option>
										<option>control_groups</option>
										<option>monitor_groups</option>
									</select>
									<span><button id="server-config-cmd">Upload Config File</button></span>
									</div>
								</small>
							</div>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->


		</div> <!-- row fluid-row -->
	</div> <!--  container-fluid -->


	<!-- DAQ PAGE -->
	<div class="container-fluid daq-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Data Acquisition</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">DAQ Status:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td width="180px"></td><td width="200px" align="center"><H2>FR 1</H2></td><td width="200px" align="center"><H2>FR 2</H2></td></tr>
									<tr><td width="180px">Connected:</td><td width="200px" align="center" id="fr1-connected"></td><td width="200px" align="center" id="fr2-connected"></td></tr>
									<tr><td width="180px">Buffer Manager:</td><td width="200px" align="center" id="fr1-buffer-manager"></td><td width="200px" align="center" id="fr2-buffer-manager"></td></tr>
									<tr><td width="180px">RX Thread:</td><td width="200px" align="center" id="fr1-rx-thread"></td><td width="200px" align="center" id="fr2-rx-thread"></td></tr>
									<tr><td width="180px">Decoder:</td><td width="200px" align="center" id="fr1-decoder"></td><td width="200px" align="center" id="fr2-decoder"></td></tr>
									<tr><td width="180px">IPC:</td><td width="200px" align="center" id="fr1-ipc"></td><td width="200px" align="center" id="fr2-ipc"></td></tr>
									<tr><td width="180px">Configuration Complete:</td><td width="200px" align="center" id="fr1-config-complete"></td><td width="200px" align="center" id="fr2-config-complete"></td></tr>
									<tr><td>Empty Buffers:</td><td align="center" id="fr1-empty-buffers"></td><td align="center" id="fr2-empty-buffers"></td></tr>
									<tr><td>Frames Received:</td><td align="center" id="fr1-frames-received"></td><td align="center" id="fr2-frames-received"></td></tr>
									<tr><td>Frames Timed Out:</td><td align="center" id="fr1-frames-timed-out"></td><td align="center" id="fr2-frames-timed-out"></td></tr>
									<tr><td>Frames Released:</td><td align="center" id="fr1-frames-released"></td><td align="center" id="fr2-frames-released"></td></tr>
									<!--<tr><td>Debug Level:</td><td align="center"><div class="dropdown"><select id="fr1-debug">
												<option value="0">None</option>
												<option value="1">Commands</option>
												<option value="2">Status</option>
												<option value="3">All</option>
											</select></div></td><td align="center"><div class="dropdown"><select id="fr2-debug">
												<option value="0">None</option>
												<option value="1">Commands</option>
												<option value="2">Status</option>
												<option value="3">All</option>
											</select></div></td></tr>-->
									<tr height="10px"><td></td></tr>
									<tr><td width="180px"></td><td width="200px" align="center"><H2>FP 1</H2></td><td width="200px" align="center"><H2>FP 2</H2></td></tr>
									<tr><td width="180px">Connected:</td><td width="200px" align="center" id="fp1-connected"></td><td width="200px" align="center" id="fp2-connected"></td></tr>
									<tr><td width="180px">Shared Memory:</td><td width="200px" align="center" id="fp1-shared-mem"></td><td width="200px" align="center" id="fp2-shared-mem"></td></tr>
									<tr><td>Processes</td><td align="center" id="fp1-hdf-processes"></td><td align="center" id="fp2-hdf-processes"></td></tr>
									<tr><td>Rank</td><td align="center" id="fp1-hdf-rank"></td><td align="center" id="fp2-hdf-rank"></td></tr>
									<tr><td>File</td><td align="center" id="fp1-hdf-file-path"></td><td align="center" id="fp2-hdf-file-path"></td></tr>
									<tr><td>Writing</td><td align="center" id="fp1-writing"></td><td align="center" id="fp2-writing"></td></tr>
									<tr><td>Frames Written</td><td align="center" id="fp1-hdf-written"></td><td align="center" id="fp2-hdf-written"></td></tr>

									<tr><td>Calibration loaded</td><td align="center" id="fp1-calib-constantsfile"></td><td align="center" id="fp2-calib-constantsfile"></td></tr>
									<tr><td>CMA</td><td align="center" id="fp1-calib-cmaavg"></td><td align="center" id="fp2-calib-cmaavg"></td></tr>
									<tr><td>Dark-frame</td><td align="center" id="fp1-calib-darkframe"></td><td align="center" id="fp2-calib-darkframe"></td></tr>
									<!--<tr><td>Debug Level:</td><td align="center"><div class="dropdown"><select id="fp1-debug">
												<option value="0">None</option>
												<option value="1">Commands</option>
												<option value="2">Status</option>
												<option value="3">All</option>
											</select></div></td><td align="center"><div class="dropdown"><select id="fp2-debug">
												<option value="0">None</option>
												<option value="1">Commands</option>
												<option value="2">Status</option>
												<option value="3">All</option>
											</select></div></td></tr>-->
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">DAQ Control:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td width="180px">Frames To Write:</td><td><span><input type="text" id="set-fp-frames"></input></span></td></tr>
									<tr><td width="180px">File Path:</td><td><span><input type="text" id="set-fp-path"></input></span></td></tr>
									<tr><td width="180px">File Name:</td><td><span><input type="text" id="set-fp-filename"></input></span></td></tr>
									<tr><td></td><td><span><button id="fp-start-cmd">Start</button></span><span><button id="fp-stop-cmd">Stop</button></span></td></tr>
								</table>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- BUFFER PAGE -->
	<div class="container-fluid buffer-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Buffer Transfer</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Write Buffer:</div>
							<div class="col-xs-7 status vertical-align">
								<small>
									<table>
										<tr>
											<td>No of words:</td>
											<td width="10px"></td>
											<td>
												<span>
													<input size="6" type="text" id="buffer-no-words" />
												</span>
											</td>
											<td width="10px"></td>
											<td>Fill Style:</td>
											<td width="10px"></td>
											<td><div class="dropdown"><select id="buffer-fill-type">
												<option>Zeros</option>
												<option>Ones</option>
												<option>Incrementing</option>
												<option>Decrementing</option>
											</select></div></td>
										</tr>
									</table>
								</small>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2"></div>
							<div class="col-xs-4 m-4 status vertical-align">Generated values</div>
							<div class="col-xs-4 m-4 status vertical-align">Currently loaded values in the write buffer</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2"></div>
							<div id="write-buffer" class="col-xs-4 m-4 status vertical-align"></div>
							<div id="write-buffer-rbv" class="col-xs-4 m-4 status vertical-align"></div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2"></div>
							<div class="col-xs-5 m-4 status vertical-align">&nbsp;
								<span><button id="buffer-write-to-hw">Write To Buffer</button></span>
							</div>
							<div class="col-xs-5 m-4 status vertical-align">&nbsp;
								<span><button id="buffer-write-read">Refresh</button></span>
							</div>
						</div>
   						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>

        				<div class="row sidebar-row vertical-align">
        					<div class="col-xs-2">Buffer Transfer:</div>
							<div class="col-xs-8 status vertical-align">
								<small>
									<table>
										<tr>
											<td>Target:</td>
											<td width="10px"></td>
											<td><div class="dropdown"><select id="buffer-trns-target">
												<option value="mezzanine_board_A">Mezzanine Board A</option>
												<option value="mezzanine_board_B">Mezzanine Board B</option>
												<option value="both_mezzanine_boards">Both Mezzanine Boards</option>
												<option value="plugin_board">Plugin Board</option>
											</select></div></td>
											<td width="10px"></td>
											<td>Command:</td>
											<td width="10px"></td>
											<td><div class="dropdown"><select id="buffer-trns-cmd">
												<option value="write">WRITE</option>
												<option value="read">READBACK</option>
											</select></div></td>
											<td width="10px"></td>
											<td>No of words:</td>
											<td width="10px"></td>
											<td>
												<span>
													<input size="6" type="text" id="buffer-trns-no-words" />
												</span>
											</td>
											<td width="10px"></td>
											<td>Base Address:</td>
											<td width="10px"></td>
											<td>
												<span>
													<input size="6" type="text" id="buffer-trns-address" />
												</span>
											</td>
											<td width="10px"></td>
											<td><span><button id="buffer-trns-apply">Execute</button></span></td>
										</tr>
									</table>
								</small>
							</div>
						</div>

						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2"></div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Read Buffer:</div>
							<div class="col-xs-4 m-4 status vertical-align">Values read out from mezzanine A</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2"></div>
							<div id="read-buffer-rbv" class="col-xs-4 status vertical-align"></div>
                        </div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2"></div>
							<div class="col-xs-4 m-4 status vertical-align">&nbsp;
								<span><button id="buffer-read-refresh">Refresh</button></span>
							</div>
	  					</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
		</div> <!-- row fluid-row -->
	</div> <!--  container-fluid -->


	<div class="container-fluid data-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Data Logging</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-1">&nbsp;</div>
							<div class="col-xs-12 status"><iframe width="100%" height="700px" src="http://127.0.0.1:3000/dashboard/db/first-dashboard?orgId=1&from=now-1h&to=now"></iframe></div>
	  					</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
			
			
		</div> <!-- row fluid-row -->	
	</div> <!--  container-fluid -->



	<div class="modal fade" id="sp-scan-modal" role="dialog">
	    <div class="modal-dialog" style="overflow-y: scroll; max-height:85%;  margin-top: 50px; margin-bottom:50px;">
    	    <div class="modal-content">
        	    <div class="modal-header">
            	    <h3 class="modal-title">Scanning Status</h3>
            	</div>
	            <div class="modal-body">
					<table>
						<tr valign="top">
							<td style="padding:0 15px 0 15px;">Scanning:</td><td id="sp-scan-scanning"></td>
						</tr><tr>
							<td style="padding:0 15px 0 15px;">Index:</td><td id="sp-scan-index"></td>
						</tr><tr>
							<td style="padding:0 15px 0 15px;">Scan:</td><td id="sp-scan-scanpoints"></td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>

  
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="js/jquery-ui.min.js" type="text/javascript"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/tabulator.js" type="text/javascript"></script>
    <script src="js/percival.js" type="text/javascript"></script>
    <script src="js/odin-data.js" type="text/javascript"></script>

</body>
</html>

